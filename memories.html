<!DOCTYPE html>
<html>
<head>
  <title>Love Game üíï</title>
  <style>
    body {
      background: linear-gradient(#ffdde1, #ee9ca7);
      font-family: Arial;
      text-align: center;
      padding-top: 50px;
    }
    .card {
      background: white;
      width: 350px;
      margin: auto;
      padding: 20px;
      border-radius: 20px;
      box-shadow: 0 10px 20px rgba(0,0,0,0.2);
      animation: fadeIn 0.6s;
    }
    button {
      padding: 10px 18px;
      margin: 8px;
      border: none;
      border-radius: 20px;
      font-size: 15px;
      cursor: pointer;
      background: #ff4d6d;
      color: white;
    }
    .shake {
      animation: shake 0.3s;
    }
    @keyframes shake {
      0% {transform: translateX(0);}
      25% {transform: translateX(-5px);}
      50% {transform: translateX(5px);}
      75% {transform: translateX(-5px);}
      100% {transform: translateX(0);}
    }
    @keyframes fadeIn {
      from {opacity:0; transform: scale(0.9);}
      to {opacity:1; transform: scale(1);}
    }
    .heart {
      font-size: 24px;
      animation: pop 0.5s;
    }
    @keyframes pop {
      0% {transform: scale(0);}
      100% {transform: scale(1);}
    }
    input[type=text] {
      padding: 10px;
      width: 80%;
      border-radius: 10px;
      border: 1px solid #ccc;
      margin-top: 10px;
    }
  </style>
</head>

<body>

<audio autoplay loop>
  <source src="en_moochava_pesvhave.mp3" type="audio/mpeg">
</audio>

<div class="card" id="card">
  <h2 id="question"></h2>
  <div id="options"></div>
  <p id="message"></p>
</div>

<script>
  const quiz = [
    {
      q: "üíñ How much do you love me?",
      options: ["Little", "More than you", "I no love u", "Infinity"],
      answer: 3,
      love: "Correct üòò Nenu ninnu premistunanu üíï"
    },
    {
      q: "üéÅ What is the first gift I gave to you?",
      options: ["Chocolate", "Bricks", "Laici", "McD"],
      answer: 0,
      love: "Yesss ‚ù§Ô∏è Our first chocolate memory ü•π"
    },
    {
      q: "üíå What do you want for this Valentine‚Äôs day?",
      input: true
    }
  ];

  let current = 0;

  function loadQuestion() {
    document.getElementById("message").innerHTML = "";
    document.getElementById("options").innerHTML = "";

    const q = quiz[current];
    document.getElementById("question").innerText = q.q;

    if (q.input) {
      document.getElementById("options").innerHTML = `
        <input type="text" id="valentineMsg" placeholder="Type your message...">
        <br><button onclick="submitInput()">Enter üíå</button>
      `;
    } else {
      let opts = "";
      q.options.forEach((opt, i) => {
        opts += `<button onclick="check(${i})">${opt}</button><br>`;
      });
      document.getElementById("options").innerHTML = opts;
    }
  }

  function check(i) {
    const card = document.getElementById("card");
    if (i === quiz[current].answer) {
      document.getElementById("message").innerHTML =
        `<div class="heart">‚ù§Ô∏è</div>${quiz[current].love}`;
      setTimeout(() => {
        current++;
        if (current < quiz.length) loadQuestion();
        else window.location.href = "proposal.html";
      }, 1200);
    } else {
      card.classList.add("shake");
      document.getElementById("message").innerText =
        "‚ùå Oops üòè Wrong! Try again, my love";
      setTimeout(() => card.classList.remove("shake"), 300);
    }
  }

  function submitInput() {
    const msg = document.getElementById("valentineMsg").value;
    if (msg.trim() === "") {
      alert("üíå Please write something!");
      return;
    }
    document.getElementById("message").innerHTML =
      `Noted! ü•∞ Your message: "${msg}"`;
    setTimeout(() => {
      window.location.href = "proposal.html";
    }, 1200);
  }

  loadQuestion();
</script>

</body>
</html>
